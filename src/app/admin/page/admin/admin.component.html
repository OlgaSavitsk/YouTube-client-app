<div class="container">
  <form class="example-form form" [formGroup]="formGroup">
    <h2>Create new card</h2>
    <div class="form__container">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Title</mat-label>
        <input matInput class="form__input" type="text" autocomplete="off" formControlName="title">
        <mat-error *ngIf="validationService.formErrors.title">{{validationService.formErrors.title}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Description</mat-label>
        <textarea matInput class="form__input" type="text" formControlName="description"></textarea>
        <mat-error *ngIf="validationService.formErrors.description">{{validationService.formErrors.description}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Img</mat-label>
        <input matInput class="form__input" type="text" formControlName="img" autocomplete="off">
        <mat-error *ngIf="validationService.formErrors.img">{{validationService.formErrors.img}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Link video</mat-label>
        <input matInput class="form__input" type="text" formControlName="videoLink" autocomplete="off">
        <mat-error *ngIf="validationService.formErrors.videoLink">{{validationService.formErrors.videoLink}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Create a date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="date" autocomplete="off">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="validationService.formErrors.date">{{validationService.formErrors.date}}
        </mat-error>
      </mat-form-field>
    </div>
    <button mat-flat-button color="primary" class="form__button" [disabled]="formGroup.invalid"
      (click)="createCard()">Create card</button>
  </form>

  <div class="card-container" *ngFor="let item of (customItems$ | async)">
    <mat-card class="example-card" [appHighlight]="getDateDiff(item.date)">
      <img mat-card-image src="{{ item.img }}">
      <mat-card-content>
        <mat-card-title>{{ item.title }}</mat-card-title>
        <p>{{item.description}}</p>
        <p>{{item.linkVideo}}</p>
        <p>{{item.date | date: 'EEEE, MMMM d, y'}}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button>more...</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
