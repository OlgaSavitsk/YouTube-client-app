"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[744],{9744:(I,u,n)=>{n.r(u),n.d(u,{AuthModule:()=>P});var m=n(9808),r=n(3075),h=n(520),p=n(3306),s=n(5020),f=n(7579),c=n(2722),g=n(6518),v=n(2976),t=n(5e3),x=n(1535),A=n(5102),l=n(7322),C=n(7531),b=n(7423);function S(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.validationService.formErrors.login," ")}}function Z(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.validationService.formErrors.password," ")}}const y=[{path:"",component:(()=>{class o{constructor(e,i,d,U){this.authService=e,this.router=i,this.validationService=d,this.setErrorService=U,this.ngUnsubscribe=new f.x}ngOnInit(){this.formGroup=new r.cw({login:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.minLength(8),this.validationService.checkValidation(/[0-9]/,{hasNumber:!0}),this.validationService.checkValidation(/[A-Z]/,{hasCapitalCase:!0}),this.validationService.checkValidation(/[a-z]/,{hasSmallCase:!0}),this.validationService.checkValidation(/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/,{hasSpecialCharacters:!0})])}),this.setErrorService.getErrorData().pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>([this.errorMessages]=e,this.errorMessages)),this.formGroup.valueChanges.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(()=>{this.validationService.setValidationErrors(this.formGroup,this.errorMessages)})}onSubmit(){if(this.formGroup.invalid)return;const e=this.formGroup.value.login.trim(),{token:i}=v.Tb;this.authService.login(e,i),this.router.navigate(["admin"])}ngOnDestroy(){this.ngUnsubscribe.next(""),this.ngUnsubscribe.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.Z),t.Y36(s.F0),t.Y36(x.R),t.Y36(A.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-auth-page"]],decls:17,vars:4,consts:[[1,"container"],[1,"example-form","form",3,"formGroup","ngSubmit"],[1,"form__container"],["appearance","fill",1,"example-full-width"],["matInput","","type","email","placeholder","Enter your email","formControlName","login","autocomplete","off",1,"form__input"],[4,"ngIf"],["matInput","","type","password","placeholder","Enter password","formControlName","password","autocomplete","off",1,"form__input"],["mat-flat-button","","color","primary",1,"form__button",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"LOGIN"),t.qZA(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Login"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,S,2,1,"mat-error",5),t.qZA(),t.TgZ(10,"mat-form-field",3)(11,"mat-label"),t._uU(12,"Password"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,Z,2,1,"mat-error",5),t.qZA()(),t.TgZ(15,"button",7),t._uU(16,"Login"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.formGroup),t.xp6(8),t.Q6J("ngIf",i.validationService.formErrors.login),t.xp6(5),t.Q6J("ngIf",i.validationService.formErrors.password),t.xp6(1),t.Q6J("disabled",i.formGroup.invalid))},directives:[r._Y,r.JL,r.sg,l.KE,l.hX,C.Nt,r.Fj,r.JJ,r.u,m.O5,l.TO,b.lW],styles:["[_nghost-%COMP%]{display:flex;height:calc(100vh - 140px)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:344px;padding:20px;border-radius:5px;margin:10px auto;background:#F2F2F2}.form__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;row-gap:17px;height:100%}.form__input[_ngcontent-%COMP%]{width:304px;height:18px;border:none;outline:none}.form__button[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:self-end;width:124px;height:30px;margin-top:50px;background:#2F80ED;border-radius:5px;font-size:12px;color:#fff}.mat-form-field[_ngcontent-%COMP%]{width:304px}.mat-form-field-infix[_ngcontent-%COMP%]{padding:0}"],changeDetection:0}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(y)],s.Bz]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[m.ez,r.u5,p.Z,h.JF,M]]}),o})()}}]);